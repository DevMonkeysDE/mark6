<mat-toolbar color="accent">
    <h1>Messenger Config</h1>
    <div style="flex: auto;"></div>
    <ul>
        <li><button (click)="setMessengerMode('fullscreen')">Mode: Fullscreen</button></li>
        <li><button (click)="setMessengerMode('boxed')">Mode: Boxed</button></li>
    </ul>
</mat-toolbar>

<mark6-messenger [ngClass]="messengerMode === 'fullscreen' ? 'fullscreen' : 'boxed'">

    <mark6-messenger-header>Optional Header</mark6-messenger-header>

    <!-- Scrollable Area - or instead of <mark6-messenger-content> they can use <virtual-scroll>-->
    <mark6-messenger-content>

        <mark6-messenger-block *ngFor="let block of messageBlock">

            <mark6-messenger-block-date [date]="block.date"></mark6-messenger-block-date>

            <mark6-messenger-message-group *ngFor="let group of block.messageGroup"
                                           [ngClass]="group.user_id === currentUserId ? 'mark6-message-come-from-me' : 'mark6-message-come-from-others'"
                                           [direction]="group.user_id === currentUserId ? 'right' : 'left'">

                <mark6-messenger-avatar>
                    <mark6-image [round]="true" [preview]="group.user_avatar.preview" [src]="group.user_avatar.src"></mark6-image>
                    <!-- TODO Sven - Allow using regular <img> tags.
                    <img src="" alt="">
                    -->
                </mark6-messenger-avatar>

                <mark6-messenger-message *ngFor="let message of group.messages" [message]="message"></mark6-messenger-message>

            </mark6-messenger-message-group>

        </mark6-messenger-block>

    </mark6-messenger-content>

    <mark6-messenger-footer>
        <textarea placeholder="Type message..." Mark6MessengerAutoSize></textarea>
    </mark6-messenger-footer>

</mark6-messenger>

<!-- TODO ALEX
    dateFormatOptions = {
        days: ['today', 'yesterday', 'day before yesterday'],
        format: 'de'
    };
-->

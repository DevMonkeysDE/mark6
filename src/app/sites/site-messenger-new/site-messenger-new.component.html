<mat-toolbar color="accent">
    <h1>Messenger Config</h1>
    <div style="flex: auto;"></div>
    <ul>
        <li><button (click)="setMessengerMode('fullscreen')">Mode: Fullscreen</button></li>
        <li><button (click)="setMessengerMode('boxed')">Mode: Boxed</button></li>
    </ul>
</mat-toolbar>

<mark6-messenger [ngClass]="messengerMode === 'fullscreen' ? 'fullscreen' : 'boxed'">

    <mark6-messenger-header>
        asd
    </mark6-messenger-header>

    <!-- TODO ALEX - Szenario 1: Messenger gets used without CDK
    <mark6-messenger-content>
        <mark6-messenger-message
            [message]="message"
            *cdkVirtualFor="let message of messages | magicPipe;trackBy: trackByMessageId"
            [avatarMe]="avatarMe"
            [avatarOthers]="avatarOthers"
            [type]="type">
        </mark6-messenger-message>
    </mark6-messenger-content>
    -->

    <!-- TODO ALEX - Szenario 2: Messenger gets used with CDK
    <cdk-virtual-scroll-viewport autosize class="viewport">
        <mark6-messenger-message
            [message]="message"
            *cdkVirtualFor="let message of messages | magicPipe;trackBy: trackByMessageId"
            [avatarMe]="avatarMe"
            [avatarOthers]="avatarOthers"
            [type]="type">
        </mark6-messenger-message>
    </cdk-virtual-scroll-viewport>
    <mark6-messenger-content>
        <mark6-messenger-messages [avatarOthers]="true" [avatarMe]="true" [messages]="messages"></mark6-messenger-messages>
    </mark6-messenger-content>

    <mark6-messenger-footer>

        <mark6-messenger-textarea>
            <textarea placeholder="Type message..." Mark6MessengerAutoSize></textarea>
        </mark6-messenger-textarea>

        <mark6-messenger-actions position="right">
            <button mat-icon-button color="primary">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-send">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-send">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
            </button>
        </mark6-messenger-actions>

    </mark6-messenger-footer>
    -->

    <!-- TODO ALEX - Quick and dirty Solution -->
    <mark6-messenger-content>
        <mark6-messenger-messages [avatarOthers]="true" [avatarMe]="true" [messages]="messages" [type]="'group'"></mark6-messenger-messages>
    </mark6-messenger-content>

    <mark6-messenger-footer>

        <mark6-messenger-textarea>
            <textarea placeholder="Type message..." Mark6MessengerAutoSize></textarea>
        </mark6-messenger-textarea>

        <mark6-messenger-actions position="right">
            <button mat-icon-button color="primary">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-send">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </mark6-messenger-actions>

    </mark6-messenger-footer>

</mark6-messenger>

<!-- TODO ALEX THIS IS OUR NEW STRUCTURE
ALL COMPONENTS ARE JUST UI COMPONENTS, JUST mark6-messenger-message-group CONTAINS LOGICS
-->
<mark6-messenger>

    <!-- or instead of <mark6-messenger-content> they can use <virtual-scroll>-->
    <mark6-messenger-content>

        <!-- TODO JUST DONT USE <mark6-messenger-message-group> AND CREATE WITH <ng-container> YOUR OWN GROUP STYLE -->
        <!-- TODO WE MUST MOVE ALL CLASS FOR DIRECTIONS ETC TO <mark6-messenger-message-group> -->
        <mark6-messenger-message-group *ngFor="let message of messageGroup">

            <mark6-messenger-message *ngFor="let msg of message.messages" [message]="msg"><!-- Export Pipe or something like that to sort by date -->
                <!--<mark6-messenger-info *ngIf="message.info"></mark6-messenger-info>
                <mark6-messenger-timestamp *ngIf="message.timestamp" [options]="messengerOptions"></mark6-messenger-timestamp>-->
                <!-- we also place a place where people can pass any custom element -->
                <div class="attachment"></div>
                <div class="google-map"></div>
                <div class="share-contact"></div>
            </mark6-messenger-message>
        </mark6-messenger-message-group>

        <div class="very-special-component-i-place-direct-in-project"></div>

    </mark6-messenger-content>

</mark6-messenger>

<!-- TODO ALEX
    messengerOptions = {
        days: ['today', 'yesterday', 'day before yesterday'],
        format: 'de'
    };
-->

<button class="toggle-demo-editor" mat-icon-button (click)="demoEditorState = !demoEditorState">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
         class="feather feather-sliders">
        <line x1="4" y1="21" x2="4" y2="14"></line>
        <line x1="4" y1="10" x2="4" y2="3"></line>
        <line x1="12" y1="21" x2="12" y2="12"></line>
        <line x1="12" y1="8" x2="12" y2="3"></line>
        <line x1="20" y1="21" x2="20" y2="16"></line>
        <line x1="20" y1="12" x2="20" y2="3"></line>
        <line x1="1" y1="14" x2="7" y2="14"></line>
        <line x1="9" y1="8" x2="15" y2="8"></line>
        <line x1="17" y1="16" x2="23" y2="16"></line></svg>
</button>

<div class="demo-editor" [ngClass]="{open: demoEditorState}">
    <h2>Demo Editor</h2>
    <mat-list>
        <mat-selection-list (selectionChange)="toggleMessengerMode($event.option)">
            <mat-list-option [selected]="messengerBoxed">Boxed</mat-list-option>
        </mat-selection-list>

        <mat-divider></mat-divider>

        <mat-selection-list (selectionChange)="toggleAvatarMe($event.option)">
            <mat-list-option [selected]="avatarMe">Avatar Me</mat-list-option>
        </mat-selection-list>

        <mat-divider></mat-divider>

        <mat-selection-list (selectionChange)="toggleAvatarOthers($event.option)">
            <mat-list-option [selected]="avatarOthers">Avatar Others</mat-list-option>
        </mat-selection-list>

        <mat-divider></mat-divider>

        <div mat-subheader>Font Size</div>
        <mat-list-item>
            <mat-slider min="16" max="32" step="1" [thumbLabel]="true" [(ngModel)]="defaultFontSize"></mat-slider>
        </mat-list-item>

        <mat-divider></mat-divider>

        <div mat-subheader>Elements Size</div>
        <mat-list-item>
            <mat-slider min="1" max="3" step="0.1" [thumbLabel]="true" [(ngModel)]="defaultElementSize"></mat-slider>
        </mat-list-item>

        <mat-divider></mat-divider>

        <div mat-subheader>Avatar Size</div>
        <mat-list-item>
            <mat-slider min="36" max="256" step="1" [thumbLabel]="true" [(ngModel)]="defaultAvatarSize"></mat-slider>
        </mat-list-item>
    </mat-list>
</div>

<mark6-messenger [style.--mark6-messenger-spacing-multiplier]="defaultElementSize"
                 [style.--mark6-messenger-base-font-size.px]="defaultFontSize"
                 [style.--mark6-messenger-avatar-size.px]="defaultAvatarSize"
                 [ngClass]="messengerBoxed ? 'boxed' : 'fullscreen'">

    <!--<mark6-messenger-header>Optional Header</mark6-messenger-header>-->

    <!-- Scrollable Area - or instead of <mark6-messenger-content> they can use <virtual-scroll>-->
    <mark6-messenger-content>

        <!-- use ng-container instead of <mark6-messenger-block> -->
        <ng-container *ngFor="let block of messageBlock">

            <mark6-messenger-block-date [date]="block.date"></mark6-messenger-block-date>

            <mark6-messenger-message-group *ngFor="let group of block.messageGroup"
                                           [ngClass]="group.user_id === currentUserId ? 'mark6-message-come-from-me' : 'mark6-message-come-from-others'"
                                           [direction]="group.user_id === currentUserId ? 'right' : 'left'">

                <mark6-messenger-avatar *ngIf="(group.user_id === currentUserId && avatarMe) || (group.user_id !== currentUserId && avatarOthers)">
                    <mark6-image [round]="true" [preview]="group.user_avatar.preview" [src]="group.user_avatar.src"></mark6-image>
                    <!-- TODO Sven - Allow using regular <img> tags.
                    <img src="" alt="">
                    -->
                </mark6-messenger-avatar>

                <mark6-messenger-message *ngFor="let message of group.messages" [message]="message"></mark6-messenger-message>

            </mark6-messenger-message-group>

        </ng-container>

    </mark6-messenger-content>

    <mark6-messenger-footer>

        <!--<mark6-messenger-actions [position]="'left'">
            <button mat-icon-button>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-send">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </mark6-messenger-actions>-->

        <mark6-messenger-textarea>
            <mark6-messenger-actions [position]="'left'">
                <button mat-icon-button>
                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><path d="M11.99,2C6.47,2,2,6.48,2,12s4.47,10,9.99,10C17.52,22,22,17.52,22,12S17.52,2,11.99,2z M8.5,8C9.33,8,10,8.67,10,9.5 S9.33,11,8.5,11S7,10.33,7,9.5S7.67,8,8.5,8z M16.75,14.75C15.8,16.39,14.03,17.5,12,17.5s-3.8-1.11-4.75-2.75 C7.06,14.42,7.31,14,7.69,14h8.62C16.7,14,16.94,14.42,16.75,14.75z M15.5,11c-0.83,0-1.5-0.67-1.5-1.5S14.67,8,15.5,8 S17,8.67,17,9.5S16.33,11,15.5,11z"/></g></svg>
                </button>
            </mark6-messenger-actions>

            <textarea [(ngModel)]="textareaValue" placeholder="Message" Mark6MessengerAutoSize></textarea>

            <mark6-messenger-actions [position]="'right'">
                <button mat-icon-button>
                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M15.5,6.75l0,9.58c0,2.09-1.53,3.95-3.61,4.15C9.51,20.71,7.5,18.84,7.5,16.5l0-10.36c0-1.31,0.94-2.5,2.24-2.63 C11.24,3.36,12.5,4.53,12.5,6v9.5c0,0.55-0.45,1-1,1s-1-0.45-1-1V6.75C10.5,6.34,10.16,6,9.75,6h0C9.34,6,9,6.34,9,6.75l0,8.61 c0,1.31,0.94,2.5,2.24,2.63c1.5,0.15,2.76-1.02,2.76-2.49l0-9.33c0-2.09-1.53-3.95-3.61-4.15C8.01,1.79,6,3.66,6,6l0,10.27 c0,2.87,2.1,5.44,4.96,5.71C14.25,22.28,17,19.72,17,16.5V6.75C17,6.34,16.66,6,16.25,6h0C15.84,6,15.5,6.34,15.5,6.75z"/></g></g></svg>
                </button>
                <button mat-icon-button [ngClass]="{visible: textareaValue.length === 0}">
                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><g><g><path d="M13.81,2.86c0.17-0.3,0-0.7-0.35-0.74c-2.62-0.37-5.3,0.28-7.44,1.86C5.83,4.13,5.77,4.41,5.9,4.63l3.01,5.22 c0.19,0.33,0.67,0.33,0.87,0L13.81,2.86z"/><path d="M21.3,8.33c-0.98-2.47-2.92-4.46-5.35-5.5c-0.23-0.1-0.5,0-0.63,0.22l-3.01,5.21C12.12,8.58,12.36,9,12.75,9h8.08 C21.18,9,21.43,8.65,21.3,8.33z"/><path d="M21.37,10h-6.2c-0.38,0-0.63,0.42-0.43,0.75L19,18.14c0.17,0.3,0.6,0.35,0.82,0.08c1.74-2.18,2.48-5.03,2.05-7.79 C21.84,10.18,21.62,10,21.37,10z"/><path d="M4.18,5.79c-1.73,2.19-2.48,5.02-2.05,7.79C2.16,13.82,2.38,14,2.63,14h6.2c0.38,0,0.63-0.42,0.43-0.75L5,5.87 C4.82,5.57,4.39,5.52,4.18,5.79z"/><path d="M2.7,15.67c0.98,2.47,2.92,4.46,5.35,5.5c0.23,0.1,0.5,0,0.63-0.22l3.01-5.21c0.19-0.33-0.05-0.75-0.43-0.75H3.17 C2.82,15,2.57,15.35,2.7,15.67z"/><path d="M10.53,21.89c2.62,0.37,5.3-0.28,7.44-1.86c0.2-0.15,0.26-0.44,0.13-0.66l-3.01-5.22c-0.19-0.33-0.67-0.33-0.87,0 l-4.04,6.99C10.01,21.44,10.19,21.84,10.53,21.89z"/></g></g></g></g></svg>
                </button>
            </mark6-messenger-actions>
        </mark6-messenger-textarea>

        <mark6-messenger-actions [position]="'right'" [ngClass]="{visible: textareaValue.length !== 0}">
            <button mat-icon-button>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="feather feather-send">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </mark6-messenger-actions>

    </mark6-messenger-footer>

</mark6-messenger>

<!-- TODO ALEX
    dateFormatOptions = {
        days: ['today', 'yesterday', 'day before yesterday'],
        format: 'de'
    };
-->
